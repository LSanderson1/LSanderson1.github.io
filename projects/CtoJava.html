<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="C to Java | Lloyd Sanderson | Professional Portfolio">
    <meta name="description" content="">
    <meta name="image" content="https://github.com/lsanderson1.png">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Lloyd Sanderson | Professional Portfolio">
    <meta property="og:url" content="https://lsanderson1.github.io/projects/CtoJava.html">
    <meta property="og:title" content="C to Java | Lloyd Sanderson | Professional Portfolio">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://github.com/lsanderson1.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/techfolio-theme/skyblue.css">
    <link rel="stylesheet" type="text/css" href="/css/rouge/github.css">
    <!-- Load MathJax if 'mathjax: true' is found in your _config.yml. -->
    
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
    </script>
    

    <title>C to Java | Lloyd Sanderson | Professional Portfolio</title>
  </head>
  <body>
  <header class="navbar navbar-expand navbar-light bg-light bg-gradient border-bottom">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Lloyd Sanderson</a>
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <a class="nav-link" href="/#projects">Projects</a>
        <a class="nav-link" href="/#essays">Essays</a>
        <a class="nav-link" href="/resume.html">Resume</a>
      </ul>
    </div>
  </div>
</header>

<div class="container py-4">
  <h1 class="display-4">C to Java</h1>
 <p>This code implements native classes that can be found in Java as well as calling them from C. With this you are able to convert and write between two languages.
Introduction to Java Native Interface was implemented and with simple code from Java calls from a library in C which has the C code to be used.
Having knowledge of both languages as well as being able to use conversion between the two is a very powerful tool that can be used to produce a variety of things in both
C and Java</p>

<p>The code starts off in Java, where it is to find the multiples of 5 given user input, it then goes and calls the library function which the C code is stored, and retrieves and does the C code.
After, it exports it back to Java with the answers that it gave in C and produces a table to see if the number is a multiple or not.
Here is an example of the code.</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">Scanner</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">InputMismatchException</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">homework10</span> 
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">native</span> <span class="kt">int</span> <span class="n">is_multiple5</span><span class="p">(</span><span class="kt">int</span> <span class="n">maxval</span><span class="p">);</span>

    <span class="cm">/*****************************************************************
    //  Function name: static (Library Loading)
    //
    //  DESCRIPTION:   Has the C Source code stored in here to be used
    //                 in print_table
    //
    //  Parameters:    none
    //
    //  Return values:  none
    //
    ****************************************************************/</span>  
    <span class="k">static</span>
    <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">loadLibrary</span><span class="p">(</span><span class="s">"multiple"</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="cm">/*****************************************************************
    //  Function name: main
    //
    //  DESCRIPTION:   Runs the user_interface, stores the value from
    //                 user_interface in val, and runs print_table with
    //                 that value
    //
    //  Parameters:    String args[]: The arguments given through the
    //                 compiler
    //
    //  Return values:  none
    //
    ****************************************************************/</span>  
 
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span> <span class="n">args</span><span class="p">[])</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">user_interface</span><span class="p">();</span>

        <span class="n">print_table</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="cm">/*****************************************************************
    //  Function name: user_interface
    //
    //  DESCRIPTION:   The user_interface which interacts with the user
    //                 to input a maximum value (includes error handling)
    //                 which is then to be printed through print_table
    //
    //  Parameters:    none
    //
    //  Return values:  maxval: the maximum value given by the user
    //
    ****************************************************************/</span>  

    <span class="k">static</span> <span class="kt">int</span> <span class="n">user_interface</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">maxval</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">boolean</span> <span class="n">control</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scanner</span> <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
        
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"This program takes a user value and prints all the "</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"multiples of 5 to the maximum value.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Please enter a maximum value: "</span><span class="p">);</span>
        
        <span class="k">do</span>
        <span class="p">{</span>
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="n">maxval</span> <span class="o">=</span> <span class="n">input</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>
                <span class="n">control</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">InputMismatchException</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Error, not a numeric integer.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Please enter a numeric integer: "</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">control</span> <span class="o">!=</span> <span class="nb">false</span><span class="p">);</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="n">maxval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Error, not a positive integer.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Please enter a positive integer: "</span><span class="p">);</span>
                <span class="n">maxval</span> <span class="o">=</span> <span class="n">input</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">InputMismatchException</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="n">input</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">maxval</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="cm">/*****************************************************************
    //  Function name: print_table
    //
    //  DESCRIPTION:   Prints out all the values from the maximum user
    //                 input that shows whether or not the number is 
    //                 divisible by 5 or not
    //
    //  Parameters:    maxval: the maximum value that was given by the user
    //
    //  Return values:  none
    //
    ****************************************************************/</span>  
 
    <span class="k">static</span> <span class="kt">void</span> <span class="n">print_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">maxval</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">String</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">"%s %18s"</span><span class="p">,</span> <span class="s">"Number"</span><span class="p">,</span> <span class="s">"Is Multiple 5?</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">maxval</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">multiple</span> <span class="o">=</span> <span class="n">is_multiple5</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">String</span> <span class="n">str2</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">multiple</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">str2</span> <span class="o">=</span> <span class="n">String</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">"%6d %16s"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s">"Yes"</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">str2</span> <span class="o">=</span> <span class="n">String</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">"%6d %16s"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s">"No"</span><span class="p">);</span>
            <span class="p">}</span>
           <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">str2</span><span class="p">);</span>
        <span class="p">}</span>
       
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#include</span> <span class="cpf">"homework10.h"</span><span class="cp">
#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="cm">/*****************************************************************
//  Function name: Java_homework10_is_1multiple5
//
//  DESCRIPTION:   The Java called native function which takes in the
//                 maximum value from the user and goes through every
//                 number to the maximum value to see if the number is
//                 divisible by 5
//
//  Parameters:    JNIEnv *env: The environment pointer to the native class
//                 is_multiple5. Allows interaction with the JNI environment
//                 and works with this C Source code to rotate data back
//                 and forth.
//                 jclass class: the object on which is_multiple5 is invoked.
//                 A reference to the current class in homework10
//                 jint i: The max value that was input by the user invoked
//                 in java.
//
//  Return values:  0 : not divisible by 5
//                  1 : divisible by 5
//
****************************************************************/</span>        
<span class="n">JNIEXPORT</span> <span class="n">jint</span> <span class="n">JNICALL</span> <span class="n">Java_homework10_is_1multiple5</span>
<span class="p">(</span><span class="n">JNIEnv</span> <span class="o">*</span><span class="n">env</span><span class="p">,</span> <span class="n">jclass</span> <span class="k">class</span><span class="p">,</span> <span class="n">jint</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

</div>

<footer class="navbar navbar-expand navbar-light bg-light bg-gradient border-top">
  <div class="container-fluid">
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <small><a class="nav-link" href="https://techfolios.github.io">Made with Techfolios</a></small>
      </ul>
    </div>
  </div>
</footer>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>
